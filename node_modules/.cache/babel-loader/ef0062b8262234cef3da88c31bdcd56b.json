{"ast":null,"code":"var _jsxFileName = \"/Users/neal/Desktop/project/online account app/frontend/src/App.js\";\nimport React from 'react';\nimport AdminPage from './components/Main/AdminPage';\nimport CardInfo from './components/Cards/CardInfo';\nimport CartList from './components/ShoppingCart/CartList';\nimport Default from './components/Main/Default';\nimport MainStyle from './components/Main/MainStyle';\nimport SignIn from './components/Authentication/SignIn';\nimport SignUp from './components/Authentication/SignUp';\nimport Slider from './components/SlideShow/Slider'; // import CardUi from './components/Cards/CardUi';\n\nimport { BrowserRouter, Route, Switch, Redirect } from 'react-router-dom';\nimport './App.css';\nimport AdminDeleteProducts from './components/Main/AdminDeleteProducts';\nimport AdminUpdatePro from './components/Main/AdminUpdatePro';\n\nclass App extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      user: {},\n      products: [],\n      displayProducts: [],\n      cart: [],\n      token: null\n    };\n\n    this.setUser = (user, token) => {\n      this.setState({\n        user: user,\n        token: token\n      });\n      localStorage.token = token;\n      localStorage.user = user.username;\n    };\n\n    this.makeNewProduct = newProduct => {\n      const url = \"http://13.58.204.144:3000\";\n      fetch(`http://13.58.204.144:3001/products`, {\n        method: 'POST',\n        headers: {\n          'Accept': 'application/json',\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          name: newProduct.name,\n          description: newProduct.description,\n          price: newProduct.price,\n          image: newProduct.image\n        })\n      }).then(res => res.json()).then(data => {\n        this.setState({\n          products: [...this.state.products, data],\n          displayProducts: [...this.state.products, data]\n        });\n      }).catch(err => console.log(err));\n    };\n\n    this.deleteProduct = id => {\n      const url = \"http://13.58.204.144:3000\";\n      fetch(`http://13.58.204.144:3001/products/${id}`, {\n        method: 'DELETE',\n        headers: {\n          'content-type': 'application/json'\n        }\n      }).then();\n      this.setState({\n        displayProducts: this.state.displayProducts.filter(product => product.id !== id)\n      });\n    };\n\n    this.updateProduct = product => {\n      const url = \"http://13.58.204.144:3000\";\n      fetch(`http://13.58.204.144:3001/products/${product.id}`, {\n        method: 'PATCH',\n        headers: {\n          'content-type': 'application/json'\n        },\n        body: JSON.stringify({\n          name: product.name,\n          description: product.description,\n          price: product.price,\n          image: product.image\n        })\n      }).then(r => r.json()).then(updatedProduct => {\n        this.setState({\n          products: this.state.products.map(product => product.id !== updatedProduct.id ? product : updatedProduct),\n          displayProducts: this.state.products.map(product => product.id !== updatedProduct.id ? product : updatedProduct)\n        });\n      });\n    };\n\n    this.handleItem = id => {\n      const item = this.state.products.find(product => product.id === id);\n      console.log(item);\n    };\n\n    this.addToCart = product => {\n      if (!this.state.cart.includes(product)) {\n        this.setState({\n          cart: [...this.state.cart, product]\n        });\n      }\n    };\n\n    this.renderItem = renderParams => {\n      const id = parseInt(renderParams.match.params.id);\n      let product = this.state.products.find(product => product.id === id);\n      return /*#__PURE__*/React.createElement(CardInfo, {\n        id: product.id // handleItem={this.props.handleItem} \n        ,\n        name: product.name,\n        image: product.image,\n        description: product.description,\n        price: product.price,\n        key: product.id,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 188,\n          columnNumber: 12\n        }\n      });\n    };\n  }\n\n  componentDidMount() {\n    const url = \"http://13.58.204.144:3001\";\n    fetch(`http://13.58.204.144:3001/products`).then(r => r.json()).then(data => {\n      this.setState({\n        products: data,\n        displayProducts: data\n      });\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(BrowserRouter, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 142,\n        columnNumber: 7\n      }\n    }, this.state.token ? /*#__PURE__*/React.createElement(Redirect, {\n      to: \"/home\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 143,\n        columnNumber: 29\n      }\n    }) : /*#__PURE__*/React.createElement(Redirect, {\n      to: \"/signin\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 143,\n        columnNumber: 55\n      }\n    }), /*#__PURE__*/React.createElement(Switch, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 145,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(Route, {\n      exact: true,\n      path: \"/home\",\n      activeClassName: \"active\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 146,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(MainStyle, {\n      addToCart: this.addToCart,\n      cart: this.state.cart,\n      handleItem: this.handleItem,\n      products: this.state.displayProducts,\n      counter: this.state.counter,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 147,\n        columnNumber: 13\n      }\n    })), /*#__PURE__*/React.createElement(Route, {\n      path: \"/admin\",\n      activeClassName: \"active\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 150,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(AdminPage, {\n      makeNewProduct: this.makeNewProduct,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 151,\n        columnNumber: 13\n      }\n    })), /*#__PURE__*/React.createElement(Route, {\n      path: \"/delete\",\n      activeClassName: \"active\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 154,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(AdminDeleteProducts, {\n      products: this.state.displayProducts,\n      deleteProduct: this.deleteProduct,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 155,\n        columnNumber: 13\n      }\n    })), /*#__PURE__*/React.createElement(Route, {\n      path: \"/update\",\n      activeClassName: \"active\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 158,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(AdminUpdatePro, {\n      products: this.state.products,\n      updateProduct: this.updateProduct,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 159,\n        columnNumber: 13\n      }\n    })), /*#__PURE__*/React.createElement(Route, {\n      path: \"/signin\",\n      activeClassName: \"active\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 162,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(SignIn, {\n      cart: this.state.cart,\n      setUser: this.setUser,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 163,\n        columnNumber: 13\n      }\n    })), /*#__PURE__*/React.createElement(Route, {\n      path: \"/item/:id\",\n      activeClassName: \"active\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 166,\n        columnNumber: 11\n      }\n    }, this.renderItem), /*#__PURE__*/React.createElement(Route, {\n      path: \"/cart\",\n      activeClassName: \"active\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 169,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(CartList, {\n      cart: this.state.cart,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 170,\n        columnNumber: 13\n      }\n    })), /*#__PURE__*/React.createElement(Route, {\n      path: \"/register\",\n      activeClassName: \"active\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 172,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(SignUp, {\n      cart: this.state.cart,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 173,\n        columnNumber: 13\n      }\n    })), /*#__PURE__*/React.createElement(Route, {\n      component: Default,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 176,\n        columnNumber: 11\n      }\n    })));\n  }\n\n}\n\nexport default App;","map":{"version":3,"sources":["/Users/neal/Desktop/project/online account app/frontend/src/App.js"],"names":["React","AdminPage","CardInfo","CartList","Default","MainStyle","SignIn","SignUp","Slider","BrowserRouter","Route","Switch","Redirect","AdminDeleteProducts","AdminUpdatePro","App","Component","state","user","products","displayProducts","cart","token","setUser","setState","localStorage","username","makeNewProduct","newProduct","url","fetch","method","headers","body","JSON","stringify","name","description","price","image","then","res","json","data","catch","err","console","log","deleteProduct","id","filter","product","updateProduct","r","updatedProduct","map","handleItem","item","find","addToCart","includes","renderItem","renderParams","parseInt","match","params","componentDidMount","render","counter"],"mappings":"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","sourcesContent":["import React from 'react';\nimport AdminPage from './components/Main/AdminPage';\nimport CardInfo from './components/Cards/CardInfo';\nimport CartList from './components/ShoppingCart/CartList';\nimport Default from './components/Main/Default';\nimport MainStyle from './components/Main/MainStyle';\nimport SignIn from './components/Authentication/SignIn';\nimport SignUp from './components/Authentication/SignUp';\nimport Slider from './components/SlideShow/Slider'\n// import CardUi from './components/Cards/CardUi';\n\n\nimport { BrowserRouter, Route, Switch, Redirect } from 'react-router-dom';\n\n\n\nimport './App.css';\nimport AdminDeleteProducts from './components/Main/AdminDeleteProducts';\nimport AdminUpdatePro from './components/Main/AdminUpdatePro';\n\nclass App extends React.Component {\n\n  state = {\n    user: {},\n    products: [],\n    displayProducts: [],\n    cart: [],\n    token: null\n  }\n\n\n  setUser = (user, token) => {\n    this.setState({\n      user: user,\n      token: token\n    })\n    localStorage.token = token\n    localStorage.user = user.username\n  }\n\n\n\n  componentDidMount() {\n    const url = \"http://13.58.204.144:3001\"\n\n    fetch(`http://13.58.204.144:3001/products`)\n      .then(r => r.json())\n      .then(data => { this.setState({ products: data, displayProducts: data }) })\n  }\n\n  makeNewProduct = (newProduct) => {\n    const url = \"http://13.58.204.144:3000\"\n    fetch(`http://13.58.204.144:3001/products`,\n      {\n        method: 'POST',\n        headers: {\n          'Accept': 'application/json',\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n\n          name: newProduct.name,\n          description: newProduct.description,\n          price: newProduct.price,\n          image: newProduct.image\n        })\n      })\n      .then(res => res.json())\n      .then(data => {\n        this.setState({\n          products: [...this.state.products, data],\n          displayProducts: [...this.state.products, data]\n        })\n\n      })\n      .catch(err => console.log(err))\n  }\n\n  deleteProduct = (id) => {\n    const url = \"http://13.58.204.144:3000\"\n\n    fetch(`http://13.58.204.144:3001/products/${id}`, {\n      method: 'DELETE',\n      headers: {\n        'content-type': 'application/json'\n      }\n    })\n      .then()\n    this.setState({\n      displayProducts: this.state.displayProducts.filter(product => product.id !== id)\n    })\n  }\n\n\n  updateProduct = (product) => {\n    const url = \"http://13.58.204.144:3000\"\n\n    fetch(`http://13.58.204.144:3001/products/${product.id}`, {\n      method: 'PATCH',\n      headers: {\n        'content-type': 'application/json'\n      },\n      body: JSON.stringify({\n        name: product.name,\n        description: product.description,\n        price: product.price,\n        image: product.image\n      })\n    })\n      .then(r => r.json())\n      .then(updatedProduct => {\n\n        this.setState({\n          products: this.state.products.map(product => product.id !== updatedProduct.id ? product : updatedProduct),\n          displayProducts: this.state.products.map(product => product.id !== updatedProduct.id ? product : updatedProduct)\n        })\n\n      })\n  }\n\n\n  handleItem = (id) => {\n    const item = this.state.products.find((product) => product.id === id)\n    console.log(item)\n\n  }\n\n  addToCart = (product) => {\n    if (!this.state.cart.includes(product)) {\n      this.setState({\n        cart: [...this.state.cart, product]\n      })\n    }\n\n  }\n\n  render() {\n    return (\n\n\n\n      <BrowserRouter>\n        {this.state.token ? <Redirect to=\"/home\" /> : <Redirect to=\"/signin\" />}\n\n        <Switch>\n          <Route exact path={\"/home\"} activeClassName=\"active\">\n            <MainStyle addToCart={this.addToCart} cart={this.state.cart} handleItem={this.handleItem} products={this.state.displayProducts} counter={this.state.counter} />\n          </Route >\n\n          <Route path={\"/admin\"} activeClassName=\"active\">\n            <AdminPage makeNewProduct={this.makeNewProduct} />\n          </Route>\n\n          <Route path={\"/delete\"} activeClassName=\"active\">\n            <AdminDeleteProducts products={this.state.displayProducts} deleteProduct={this.deleteProduct} />\n          </Route >\n\n          <Route path={\"/update\"} activeClassName=\"active\">\n            <AdminUpdatePro products={this.state.products} updateProduct={this.updateProduct} />\n          </Route >\n\n          <Route path={\"/signin\"} activeClassName=\"active\">\n            <SignIn cart={this.state.cart} setUser={this.setUser} />\n          </Route>\n\n          <Route path={\"/item/:id\"} activeClassName=\"active\">\n            {this.renderItem}\n          </Route>\n          <Route path={\"/cart\"} activeClassName=\"active\">\n            <CartList cart={this.state.cart} />\n          </Route>\n          <Route path={\"/register\"} activeClassName=\"active\">\n            <SignUp cart={this.state.cart} />\n          </Route>\n          {/* <Route path={\"/ti\"} component={Slider} activeClassName=\"active\"/> */}\n          <Route component={Default} />\n        </Switch>\n\n      </BrowserRouter>\n\n\n    )\n  }\n\n  renderItem = (renderParams) => {\n    const id = parseInt(renderParams.match.params.id)\n    let product = this.state.products.find(product => product.id === id)\n    return <CardInfo\n      id={product.id}\n      // handleItem={this.props.handleItem} \n      name={product.name}\n      image={product.image}\n      description={product.description}\n      price={product.price}\n      key={product.id} />\n  }\n}\n\n\n\nexport default App;"]},"metadata":{},"sourceType":"module"}